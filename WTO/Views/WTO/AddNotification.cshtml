@model BusinessObjects.Notification.EditNotification
@{
    ViewBag.Title = "Add Notification";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/contents/css/css/bootstrap-combobox.css" rel="stylesheet" />
<script src="~/contents/js/bootstrap-combobox.js"></script>
<script src="~/contents/js/ckeditor/ckeditor.js" type="text/javascript"></script>

<link href="~/contents/css/css/bootstrap-multiselect.css" rel="stylesheet" />
<script src="~/contents/js/bootstrap-multiselect.js"></script>
<script src="~/JQuery/AddUpdateNotification.js?v=13"></script>
<!-- body section start -->
@Html.Hidden("hdnSelectedHSCodes", @Model.HSCodes)
@Html.Hidden("hdnNotificationId", @Model.NotificationId)
@Html.Hidden("hdnSelectedStakeHolders", @Model.Stakeholders)
@Html.Hidden("RedirectTo", Url.Action("Edit_Notification", "AddNotification", new { Id = Model.NotificationId }))
@Html.Hidden("hdnDocumentFor", "")
@Html.Hidden("hdnDocumentId", "")
@Html.Hidden("hdnStakeholderId", "0")
@Html.Hidden("hdnSelected", "")
@Html.Hidden("hdnLanguageId", "")
@Html.Hidden("hdnStakeholderResponseDueBy", "")
@Html.Hidden("hdnDocumentType", "")
<style>
    input[type=file]::-webkit-file-upload-button {
        cursor: pointer;
    }
</style>
<div>
    <div class="container-fluid bodybackground">
        <div>
            <div class="row topbg">
                <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20 bottom-offset-20">
                    <h4 class="black-color" style="margin-top:0px;"> <img src="~/contents/img/AddNotificationheading.png" /> <b>Add notification</b></h4>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12">
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 bottom-offset-20 top-offset-20">
                            <div>
                                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                    <!-- First Accordian part start -->
                                    <div class="panel panel-default Accordian-panel">
                                        <div class="panel-heading" role="tab" id="headingOne">
                                            <h4 class="panel-title Accordian-panel-title">
                                                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                    <i class="more-less glyphicon glyphicon-chevron-down"></i>
                                                    Notification
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                            <div class="panel-body Accordian-body">
                                                <div class="col-xs-12 col-sm-12 col-md-12 whitebackground padding-bottom-10" style="box-shadow: 0 0px 0 #fff, 0 1px 6px rgba(0,0,0, 0.1);">
                                                    <div class="row top-offset-20">
                                                        <div class="col-xs-12 col-sm-12 col-md-6 bottom-offset-10-sm adduploadbutton @(Model.NotificationId > 0 && Model.NotificationAttachment == null ? "hidden" : "")">
                                                            @if (Model.NotificationAttachment == null)
                                                            {
                                                                <button type="button" class="btn btn-blue btn-padding pull-right" onclick="OpenUploadNotificationPopUp();">Upload document</button>
                                                            }
                                                            else
                                                            {
                                                                <span class="fileinput-new dark-blue pull-right">
                                                                    <a href="@Model.NotificationAttachment.Path" download="@Model.NotificationAttachment.FileName">
                                                                        <div class="fileinput fileinput-new pull-right">
                                                                            <span class="btn btn-blue btn-padding btn-file">
                                                                                <span class="glyphicon glyphicon-save"></span>
                                                                                <span class="puttext">Download Notification</span>
                                                                            </span>
                                                                        </div>
                                                                    </a>
                                                                </span>
                                                            }
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Notification type<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-3">
                                                            <p class="wto-label-bold" id="NotificationTypeId">
                                                                <b>
                                                                    @if (@Model.NotificationType != null && (Convert.ToString(@Model.NotificationType) == "1" || Convert.ToString(@Model.NotificationType) == "3"))
                                                                    {
                                                                        <label class="checkbox-inline"><input type="checkbox" value="1" id="TypeSPS" checked="checked">SPS</label>
                                                                    }
                                                                    else
                                                                    {
                                                                        <label class="checkbox-inline"><input type="checkbox" value="1" id="TypeSPS">SPS</label>
                                                                    }
                                                                    @if (@Model.NotificationType != null && (Convert.ToString(@Model.NotificationType) == "2" || Convert.ToString(@Model.NotificationType) == "3"))
                                                                    {
                                                                        <label class="checkbox-inline"><input type="checkbox" value="2" id="TypeTBT" checked="checked">TBT</label>
                                                                    }
                                                                    else
                                                                    {
                                                                        <label class="checkbox-inline"><input type="checkbox" value="2" id="TypeTBT">TBT</label>
                                                                    }
                                                                </b>
                                                            </p>
                                                        </div>
                                                    </div>

                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Notification number<sup class="mandetory">*</sup> <span class="pull-right  hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">
                                                                <input type="text" id="NotificationNumberId" class="form-control textboxcontrol" value='@(Model.NotificationNumber != null?Model.NotificationNumber : "")' />
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Notification status<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                @Html.DropDownListFor(m => Model.NotificationStatus, new SelectList(Model.NotificationStatusList, "Id", "Type"), "Select status", new { Id = "NotificationStatusId", Class = "form-control textboxcontrol" })
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Date of notification<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                <input type="text" id="DateofNotificationId" class="form-control date-picker textboxcontrol" value='@(Model.NotificationId > 0?@Model.DateofNotification:"")' />
                                                                <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Final date of comments<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                <input type="text" id="FinalDateforCommentsId" class="form-control date-picker textboxcontrol" value='@(Model.NotificationId > 0?@Model.FinalDateOfComments:"")' onchange="return FinalDateOfCommentsChanged();" />
                                                                <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9">
                                                            <p class="text-danger hidden" id="FinalDateforCommentsError" style="font-size:12px;">Final date of comments should be 60 days greater than date of notification. Please check !</p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Send response by<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                <input type="text" id="SendResponseById" class="form-control date-picker textboxcontrol" value='@(Model.NotificationId > 0?@Model.SendResponseBy:"")' />
                                                                <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9">
                                                            <p class="text-danger hidden" id="SendResponseError" style="font-size:12px;">Due date for send response is smaller than date of notificaton. Please check !</p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Notifying Country</p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                                            <p class="wto-label-normal">
                                                                <label id="NotifyingCountryId" data-SearchFor="@Model.CountryId"> @Model.Country</label>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Enquiry point<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                <input type="text" id="EnquiryPointId" maxlength="30" class="form-control textboxcontrol" value="@Model.EnquiryEmailId" />
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Title<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                                            <p class="wto-label-normal">
                                                                <textarea class="form-control textboxcontrol AutoHeight" cols="30" rows="2" id="TitleId">@(Model.Title == null ? "" : Model.Title)</textarea>
                                                                <span class="pull-right label label-default hidden" id="count_message"><span id="display_count">0</span>/<span id="word_left">100</span></span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Agency responsible<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                                            <p class="wto-label-normal">
                                                                <textarea class="form-control textboxcontrol AutoHeight" cols="30" rows="3" id="AgencyResponsibleId">@(Model.ResponsibleAgency == null ? "" : @Model.ResponsibleAgency)</textarea>
                                                                <span class="pull-right label label-default hidden" id="count_message"><span id="display_count1">0</span>/<span id="word_left1">150</span></span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Notification under article<span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-normal">
                                                                <input type="text" id="NotificationUnderArticleId" maxlength="30" class="form-control textboxcontrol" value='@(Model.Articles==null?"":@Model.Articles)' />
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Products covered<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                                            <p class="wto-label-normal">
                                                                <textarea id="ProductsCoveredId" class="form-control textboxcontrol AutoHeight" cols="30" rows="3">@(Model.ProductsCovered == null ? "" : @Model.ProductsCovered)</textarea>
                                                                <span class="pull-right label label-default hidden" id="count_message"><span id="display_count2">0</span>/<span id="word_left2">150</span></span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">HS codes<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                                            <p class="wto-label-normal">
                                                                <a class="btn btn-blue" data-toggle="modal" data-target="#selecthr" onclick="bindhscodeUId();"> <img src="~/contents/img/hand.png" /> Select HS Code</a>
                                                            </p>
                                                            <div class='table-responsive adnotificationtable @(@Model.SelectedHSCodes != null ? "" : "hidden")'>
                                                                <table class="table table-bordered top-offset-10" id="HSCodesId">
                                                                    <thead class="second-blackbackground @(Model.SelectedHSCodes != null && Model.SelectedHSCodes.FirstOrDefault(x=>x.HSCode=="-1")==null? "" : "hidden")">
                                                                        <tr>
                                                                            <th class="col-md-2"><b>HS Code</b></th>
                                                                            <th class="col-md-9"><b>Name</b></th>
                                                                            <th class="col-md-1"></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        @if (@Model.SelectedHSCodes != null)
                                                                        {
                                                                            foreach (var Item in @Model.SelectedHSCodes)
                                                                            {
                                                                                if (Item.HSCode == "-1")
                                                                                {
                                                                                    <tr class='-1'>
                                                                                        <td colspan="2">No HS Code</td>
                                                                                        <td>
                                                                                            <a id='@Item.HSCode' onclick="RemoveHSCodeRow(this)" class='remove-icon hidden'><span class='glyphicon glyphicon-remove'></span></a>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <tr class='@Item.HSCode'>
                                                                                        <td>@Item.HSCode</td>
                                                                                        <td>@Item.Text</td>
                                                                                        <td>
                                                                                            <a id='@Item.HSCode' onclick="RemoveHSCodeRow(this)" class='remove-icon'><span class='glyphicon glyphicon-remove'></span></a>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        }
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row top-offset-10">
                                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                                            <p class="wto-label-bold">Description of content<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                                            <p class="wto-label-normal">
                                                                <textarea id="DescriptionofContentId" class="form-control textboxcontrol AutoHeight" cols="30" rows="5">@(Model.Description == null ? "" : @Model.Description)</textarea>
                                                                <span class="pull-right label label-default hidden" id="count_message"><span id="display_count3">0</span>/<span id="word_left3">300</span></span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    @if (@Model.NotificationId > 0)
                                    {
                                        <!-- Second Accordian part start -->
                                        <div class='panel panel-default Accordian-panel'>
                                            <div class="panel-heading" role="tab" id="headingTwo">
                                                <h4 class="panel-title Accordian-panel-title">
                                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                        <i class="more-less glyphicon glyphicon-chevron-down"></i>
                                                        Full text(s) of regulation
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseTwo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingTwo">
                                                <div class="panel-body Accordian-body">
                                                    <div class="col-xs-12 col-sm-12 col-md-12 whitebackground padding-bottom-10" style="box-shadow: 0 0px 0 #fff, 0 1px 6px rgba(0,0,0, 0.1);">
                                                        <div class="row top-offset-10">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">Do you have the full text(s) of regulation?<sup class="mandetory">*</sup> <span class="pull-right  hidden-xs">:</span></p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                                <p class="wto-label-normal top-offset-10">
                                                                    <div class="btn-group btn-toggle" data-toggle="buttons" style="width:auto;">
                                                                        @if (@Model.DoesHaveDetails == null)
                                                                        {
                                                                            <label class="btn switch-white yes">
                                                                                <input type="radio" name="Documents" value="1"> Yes
                                                                            </label>
                                                                            <label class="btn switch-white No">
                                                                                <input type="radio" name="Documents" value="0"> No
                                                                            </label>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Convert.ToBoolean(@Model.DoesHaveDetails))
                                                                            {
                                                                                <label class="btn yes switch-blue active disabled">
                                                                                    <input type="radio" name="Documents" value="1" checked="checked"> Yes
                                                                                </label>
                                                                                <label class="btn switch-white No  disabled">
                                                                                    <input type="radio" name="Documents" value="0"> No
                                                                                </label>
                                                                            }
                                                                            else if (!Convert.ToBoolean(@Model.DoesHaveDetails))
                                                                            {
                                                                                <label class="btn switch-white yes">
                                                                                    <input type="radio" name="Documents" value="1"> Yes
                                                                                </label>
                                                                                <label class="btn No switch-red active">
                                                                                    <input type="radio" name="Documents" value="0" checked="checked"> No
                                                                                </label>
                                                                            }
                                                                        }
                                                                    </div>&nbsp;
                                                                    @if (@Model.DoesHaveDetails == null)
                                                                    {
                                                                        <a class="btn sky-blue mailenquiry hidden" data-toggle="modal" onclick="OpenMailToEnquiryDeskModel('Send')">Mail to Enquiry Desk</a>
                                                                    }
                                                                    else if (Model.EnquiryEmailSentOn == "")
                                                                    {
                                                                        <a data-toggle="modal" onclick="OpenMailToEnquiryDeskModel('send')" class="btn sky-blue mailenquiry @(Convert.ToBoolean(Model.DoesHaveDetails) ? " hidden":"" )"><img src="~/contents/img/sendmailicon.png" /> Mail to Enquiry Desk</a>
                                                                    }
                                                                    <div class="fileinput fileinput-new upload @((Model.DoesHaveDetails != null && Convert.ToBoolean(Model.DoesHaveDetails)) ? " " : " hidden")" data-provides="fileinput">
                                                                        <span onclick="OpenModelForUploadDocument('NotificationDoc',this);" class="btn btn-blue btn-file">
                                                                            <span id="btntxtNotificationDoc">Upload File</span>
                                                                        </span>
                                                                    </div>

                                                                </p>
                                                            </div>
                                                            @if (Model.EnquiryEmailSentOn != "")
                                                            {
                                                                <div class="row">
                                                                    <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9" style="padding-left: 20px;">
                                                                        <p class="wto-label-normal top-offset-10" style="color: grey;">Request for full text(s) of regulation has been sent to enquiry desk on <span class="wto-label-bold" id="lblEnquiryEmailSentOn"><a data-toggle="modal" onclick="OpenMailToEnquiryDeskModel('view')">@Model.EnquiryEmailSentOn</a></span></p>
                                                                    </div>
                                                                </div>
                                                            }
                                                            <div id="divRegulations" class="col-xs-12 col-sm-offset-4 col-md-offset-3 col-sm-8 col-md-9 @(Model.Regulations != null && Model.Regulations.Count > 0 ? " " : " hidden")">
                                                                <div class="table-responsive nopaging notificationlist sentmail">
                                                                    <table class="table table-bordered display" id="Regulationlist" cellspacing="0" width="100%">
                                                                        <thead class="second-blackbackground">
                                                                            <tr>
                                                                                <th>Regulation</th>
                                                                                <th>Language<sup class="mandetory">*</sup></th>
                                                                                <th class="translateddoc @((Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null) ? " " : " hidden")">Sent on</th>
                                                                                <th class="translateddoc @((Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null) ? " " : " hidden")">Sent to</th>
                                                                                <th class="translateddoc @((Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null) ? " " : " hidden")">Translated Regulation</th>
                                                                                <th>&nbsp;</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="RegulationsBody" class="whitebackground">
                                                                            @if (Model.Regulations != null && Model.Regulations.Count > 0)
                                                                            {
                                                                                for (Int32 i = 0; i < Model.Regulations.Count; i++)
                                                                                {
                                                                                    <tr>
                                                                                        <td>
                                                                                            <a id="lblRegulation_@(i + 1)" href="@Model.Regulations[i].Document.Path" download="@Model.Regulations[i].Document.FileName">@Model.Regulations[i].DocumentName</a>
                                                                                        </td>
                                                                                        <td>
                                                                                            <select class="form-control" id="LangDrp_@Model.Regulations[i].DocumentId" disabled>
                                                                                                <option value="@Model.Regulations[i].LanguageId" selected="selected">@Model.Regulations[i].Language</option>
                                                                                            </select>
                                                                                            <input id="hdnDocId_@(i + 1)" type="hidden" value="@Model.Regulations[i].DocumentId" />
                                                                                        </td>
                                                                                        <td class="translateddoc @(Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null ? " " : " hidden")">
                                                                                            <label id="lblSentToTranslator_@(i + 1)">@Model.Regulations[i].SentForTranslation</label>
                                                                                        </td>
                                                                                        <td class="translateddoc @(Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null ? " " : " hidden")">
                                                                                            <label data-SearchFor="@Model.Regulations[i].TranslatorId" id="lblTranslator_@(i + 1)">@Model.Regulations[i].Translator</label>
                                                                                        </td>
                                                                                        <td class="translateddoc  @(Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.SentForTranslation != "") != null ? " " : " hidden")">
                                                                                            <span id="btnUploadTranslatedDoc_@(i + 1)" onclick="OpenModelForUploadDocument('translateddoc',this);" style="color:#E34724; text-decoration: underline; cursor:pointer;" class="forTranslation @(@Model.Regulations[i].LanguageId > 1 && @Model.Regulations[i].SentForTranslation!="" && @Model.Regulations[i].TranslatedDoc == null ? "" : "hidden" )">
                                                                                                <span id="btntxtTranslatedDoc_@(i + 1)">Upload</span>
                                                                                            </span>
                                                                                            @if (@Model.Regulations[i].LanguageId > 1 && @Model.Regulations[i].TranslatedDocName == "" && @Model.Regulations[i].TranslatedDoc == null)
                                                                                            {
                                                                                                <span class="fileinput-filename"></span><span class="fileinput-new dark-blue underline"><a id="Notifi_Attach_Name_Translated_@(i + 1)" href=""></a></span>
                                                                                            }
                                                                                            else if (@Model.Regulations[i].LanguageId > 1 && @Model.Regulations[i].TranslatedDocName != "" && @Model.Regulations[i].TranslatedDoc != null)
                                                                                            {
                                                                                                <span class="fileinput-filename"></span><span class="fileinput-new dark-blue underline"><a id="Notifi_Attach_Name_Translated_@(i + 1)" href="@Model.Regulations[i].TranslatedDoc.Path">@Model.Regulations[i].TranslatedDocName</a></span>
                                                                                            }
                                                                                        </td>
                                                                                        <td>&nbsp;</td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row translatDoc @(Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.TranslatedDoc == null) != null ? "" : "hidden")">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <a style="margin-top: 5px; margin-right: 15px;" class="btn sky-blue" id="btnSendToTranslator" onclick="return OpenMailToTranslatorModel();">Send to Translator</a>
                                                            </div>
                                                        </div>
                                                        <div class="row top-offset-10 translatDoc duedate @(Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.TranslatedDoc == null) != null ? "" : "hidden")">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">Reminder for translation<span class="pull-right  hidden-xs">:</span></p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-normal">
                                                                    <input id="remainder" type="text" class="form-control date-picker textboxcontrol" value="@Model.RemainderToTranslaterOn" onchange="setReminderDays('Reminder')" />
                                                                    <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="row translatDoc">
                                                            <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9">
                                                                <p class="text-danger hidden" id="RemainderforTranslationError" style="font-size:12px;">Date of reminder to translator is smaller than date of notificaton.Please check !</p>
                                                            </div>
                                                        </div>
                                                        <div class="row top-offset-10 translatDoc @(Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.TranslatedDoc == null) != null ? "" : "hidden")">
                                                            <div class="col-xs-12 col-sm-4 col-md-3"></div>
                                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                                <p class="wto-label-normal">
                                                                    Translation reminder due in <span class="wto-label-bold" id="reminderdaysId">@(Model.TranslationDueOn != "" && Model.RemainderToTranslaterOn != "" ? (Convert.ToDateTime(Model.TranslationDueOn) - Convert.ToDateTime(Model.RemainderToTranslaterOn)).Days : 0 )</span> days
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="row top-offset-10 translatDoc @(Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.TranslatedDoc == null) != null ? "" : "hidden")">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">Due Date for Translation<span class="pull-right hidden-xs">:</span></p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-normal">
                                                                    <input type="text" class="form-control date-picker textboxcontrol" id="duedate" value="@Model.TranslationDueOn" onchange="setReminderDays('DueDate')" />
                                                                    <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="row translatDoc">
                                                            <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9">
                                                                <p class="wto-label-normal text-danger hidden" id="DueDateError" style="font-size:12px;">Due Date for Translation date is smaller than date of notificaton. please check !</p>
                                                            </div>
                                                        </div>
                                                        <div class="row top-offset-10 ObtainDocument @((Model.DoesHaveDetails != null && !Convert.ToBoolean(Model.DoesHaveDetails)) ? " " : "hidden" )">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">Obtain full text(s) of regulation by<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-normal">
                                                                    <input type="text" class="form-control date-picker textboxcontrol @(Model.EnquiryEmailSentOn == "" ? "" : "disabled") " id="Obtaindate" value="@Model.ObtainDocBy" />
                                                                    <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="row translatDoc">
                                                            <div class="col-xs-12 col-sm-offset-4 col-sm-8 col-md-offset-3 col-md-9">
                                                                <p class="text-danger hidden" id="ObtainDateError" style="font-size:12px;">Date of obtain full text(s) of regulation by is smaller than date of notificaton.Please check !</p>
                                                            </div>
                                                        </div>
                                                        <div class="row top-offset-10 @( (Convert.ToBoolean(Model.SkippedToDiscussion)) || (!Convert.ToBoolean(Model.DoesHaveDetails) && Model.EnquiryEmailSentOn != "") || (Model.Regulations != null && Model.Regulations.FirstOrDefault(x => x.LanguageId > 1 && x.TranslatedDoc == null) != null) ? "" : "hidden")" id="divSkipToDiscussion">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">&nbsp;</p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <div>
                                                                    <div class="checkbox col-xs-1 col-sm-2 col-md-2 radio-margin" style="margin-top:10px;">
                                                                        <label class="no-padding">
                                                                            @if (Convert.ToBoolean(Model.SkippedToDiscussion) == false)
                                                                            {
                                                                                <input id="chkSkipToDiscussion" type="checkbox" style="left:5px;" />
                                                                            }
                                                                            else
                                                                            {
                                                                                <input id="chkSkipToDiscussion" checked="checked" disabled="disabled" type="checkbox" style="left:5px; cursor:not-allowed;" />
                                                                            }
                                                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok cr-small"></i></span>
                                                                        </label>
                                                                    </div>
                                                                    <div class="checkbox col-xs-11 col-sm-10 col-md-10" style="margin-top: 8px;">
                                                                        Skip to discussion
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- third Accordian part start -->
                                        <div class='panel panel-default Accordian-panel '>
                                            <div class="panel-heading" role="tab" id="headingThree">
                                                <h4 class="panel-title Accordian-panel-title">
                                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                        <i class="more-less glyphicon glyphicon-chevron-down"></i>
                                                        Stakeholders(<label id="lblstakehodercount">@(Model.Stakeholders == "" ? 0 : Model.Stakeholders.Split(',').Length)</label>)  &nbsp;/&nbsp; Respondant (@Model.TotalResponses)
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseThree" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingThree">
                                                <div class="panel-body Accordian-body">
                                                    <div class="col-xs-12 col-sm-12 col-md-12 whitebackground padding-bottom-10" style="box-shadow: 0 0px 0 #fff, 0 1px 6px rgba(0,0,0, 0.1);">
                                                        <div class="row top-offset-20">
                                                            <div class="col-xs-12 col-sm-6 col-md-6">
                                                            </div>
                                                            <div class="col-xs-12 col-sm-6 col-md-6">
                                                                <p class="wto-label-normal">
                                                                    <a class="btn btn-blue addstackholder" data-toggle="modal" data-target="#stackholder" onclick="clearStakhCheckbox();">Add stakeholders</a>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div id="RelatedStakeholderList">
                                                            @{ Html.RenderAction("GetNotificationStakeholders", "AddNotification", new { Id = @Model.NotificationId }); }
                                                        </div>
                                                        <div class="row top-offset-10">
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-bold">Stakeholder response by<span class="pull-right"></span></p>
                                                            </div>
                                                            <div class="col-xs-12 col-sm-4 col-md-3">
                                                                <p class="wto-label-normal">
                                                                    <input type="text" id="txtStakeholderResponseDueBy" class="form-control date-picker textboxcontrol" value="@Model.StakeholderResponseDueBy" />
                                                                    <i class="glyphicon glyphicon-calendar form-control-feedback blue-color"></i>
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div id="divMailStatistics">
                                                            @{
                                                                Html.RenderAction("GetNotificationMails", "AddNotification", new { Id = @Model.NotificationId }); }
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Fourth Accordian part start -->
                                        if ((Model.StakholderMailFlag > 0 && Model.TranslationFlag > 1 && Model.RegulationFlag > 1) || Model.MeetingFlag > 0)
                                        {
                                            <div class='panel panel-default Accordian-panel' id="divNotificationActions">
                                                @{ Html.RenderAction("GetNotificationActions", "AddNotification", new { Id = @Model.NotificationId }); }
                                            </div>
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- external part -->
                    <div class="row top-offset-50 bottom-offset-40">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <a href="@Url.Action("Index", "NotificationList" , new { PageIndex=1, PageSize=15 })" class='btn btn-gray pull-right btn-padding left-offset-20 bottom-offset-10 @(@Model.NotificationId <= 0 ? "hidden" : "")'><span class="glyphicon glyphicon-arrow-left"></span> <b>Back To List</b></a>
                            <button class="btn btn-dark-green pull-right btn-padding addsavenotification bottom-offset-10" onclick="return Validate('Save');" style="margin-left:15px;"><img src="~/contents/img/save.png" />&nbsp;Save</button>
                            <button class="btn btn-dark-green pull-right btn-padding addsavenotification" onclick="return Validate('SaveAndNext');"><img src="~/contents/img/save.png" />&nbsp;Save & Add new notification</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- body section End -->
<!-- select HSCodes modal popup start -->
<div class="modal fade selecthrmodal" id="selecthr" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg selecthrdialog">
        <!-- Modal content-->
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner" style="height:auto;">
                            <div class='col-xs-12 col-sm-12 col-md-12 top-offset-30 @(@Model.NotificationId <= 0 ? "hidden" : "")'>
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Notification Number <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.NotificationNumber</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Title <span class="pull-right">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.Title</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-12">
                                <h4 class="selecthrheading">HSCodes description</h4>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-5">
                                <div class="input-group">
                                    <input type="text" id="HSCodeSearchTxt" class="form-control selecthrsearchtextbox" placeholder="HSCode/Description">
                                    <span class="input-group-btn">
                                        <button id="searchhscodebtn" class="btn sky-blue bottom-offset-10" type="button" onclick="SearchHSCode();">Search <span class="glyphicon glyphicon-search"></span></button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-2">
                                <a class="btn btn-dark-red btn-block bottom-offset-10 pull-right" onclick="clearSearchtxt();">Clear <span class="glyphicon glyphicon-remove"></span></a>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-5">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-6 col-md-7">
                                        <a class="btn btn-dark-green btn-block bottom-offset-10" onclick="SaveHSCode();"><img src="~/contents/img/save.png" /> Save & Continue </a>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-5">
                                        <a class="btn btn-red btn-block bottom-offset-10" data-dismiss="modal">Close <span class="glyphicon glyphicon-remove"></span></a>
                                    </div>
                                </div>
                            </div>
                            <!-- jstree start -->
                            <div class="col-xs-12 col-sm-12 col-md-12s">
                                <div class="row mail-count-height top-offset-16">
                                    <div id="divNoHSCode" class="demo top-offset-30">
                                        <p class="wto-label-bold" id="pNoHSCode">
                                            <div class="checkbox radio-margin" style="margin-top: 0;float: left; margin-left:0;">
                                                <label>
                                                    <input type="checkbox" id="cbNoHSCode">
                                                    <span class="cr insertcheckbox" style="margin-top: 2px;">
                                                        <i class="cr-icon glyphicon glyphicon-ok"></i>
                                                    </span>No HS Code
                                                </label>
                                            </div>
                                        </p>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10" style="height: 345px;">
                                        <div id="HSCodeTree" class="bottom-offset-40">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- jstree End -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- select HSCodes modal popup End -->
<!-- Add stakeholder popup start -->
<div class="modal fade selecthrmodal" id="stackholder" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog selecthrdialog addstackholderdialog">
        <!-- Modal content-->
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner">
                            <div class='col-xs-12 col-sm-12 col-md-12 top-offset-20 @(@Model.NotificationId <= 0 ? "hidden" : "")'>
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h4 class="notificationnumber selecthrheading2 padding-bottom-10">Add stakeholder(s)</h4>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Notification Number <span class="pull-right  hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.NotificationNumber</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Title <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.Title</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Notification HS Codes <span class="pull-righ hidden-xst">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@( Convert.ToString(Model.HSCodes) == "-1" ? "No HS Code" : Convert.ToString(Model.HSCodes))</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-12 bottom-offset-20" style="display:none">
                                <h4 class="selecthrheading">Select Stakeholders</h4>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-7 top-offset-10">
                                <div class="input-group">
                                    <input id="txtSearchStakeHolder" type="text" class="form-control selecthrsearchtextbox" placeholder="Search Stakeholder by Organisation, Name or HS Code" ng-model="search">
                                    <span class="input-group-btn">
                                        <button class="btn btn-blue bottom-offset-10" type="button" onclick="searchstakeholder();">Search <span class="glyphicon glyphicon-search"></span></button>
                                    </span>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-5 top-offset-10">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                        <a class="btn btn-red  pull-right bottom-offset-10" data-dismiss="modal" style="margin-left:15px;">Close <span class="glyphicon glyphicon-remove"></span></a>
                                        <a class="btn btn-dark-green pull-right bottom-offset-10" onclick="SaveStakeholder()"><img src="~/contents/img/save.png" /> Save & Continue</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10 bottom-offset-20">
                                <div class="col-xs-12 col-sm-12 col-md-12">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <div class="row">
                                                <div class="table-responsive nopaging notificationlist sentmail">
                                                    <table class="table table-bordered display" id="notificationlist" cellspacing="0" width="100%">
                                                        <thead class="second-blackbackground">
                                                            <tr>
                                                                <th class="col-sm-1">
                                                                    <div class="checkbox radio-margin" style="margin-top:2px;">
                                                                        <label>
                                                                            <input type="checkbox" id="chkSelectAll_AddStakeholders" />
                                                                            <span class="cr"><i class="cr-icon glyphicon glyphicon-ok cr-small"></i></span>
                                                                        </label>
                                                                    </div>
                                                                </th>
                                                                <th class="col-sm-3">Organization</th>
                                                                <th class="col-sm-2">Contact</th>
                                                                <th class="col-sm-4">Designation</th>
                                                                <th class="col-sm-2">HS Code</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="whitebackground" id="divStakholder">
                                                            @{ Html.RenderAction("GetStakeHoldersMaster", "AddNotification", new { SearchText = "" }); }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Add stakeholder popup End-->
<!-- Sent mail  Pop-Up Start -->
<div class="modal fade selecthrmodal" id="sentmail" role="dialog">
    <div class="modal-dialog modal-lg selecthrdialog">
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner">
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10">
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 bottom-offset-20">
                                            <h4 class="selecthrheading">Send mail to stakeholders</h4>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-xs-12 col-sm-4 col-md-3 no-padding">
                                                <p class="wto-label-bold dark-blue">Notification Number</p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                <p class="wto-label-normal dark-blue">@Model.NotificationNumber</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-xs-12 col-sm-4 col-md-3 no-padding">
                                                <p class="wto-label-bold dark-blue">Date</p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                <p class="wto-label-normal dark-blue">@Model.DateofNotification</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" id="divStakeHolderCounts">
                                        <div class="col-md-12">
                                            <div class="col-xs-12 col-sm-4 col-md-3 no-padding">
                                                <p class="wto-label-bold dark-blue">Send Notification To</p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                <p class="wto-label-normal dark-blue"><span id="SelectedStackholdersCount">0</span> Stakeholders</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="display:none" id="divStakeHolderList">
                                        <div class="col-md-12">
                                            <div class="col-xs-12 col-sm-4 col-md-3 no-padding">
                                                <p class="wto-label-bold dark-blue">Mail(s) Sent To</p>
                                            </div>
                                            <div class="col-xs-12 col-sm-8 col-md-9">
                                                <div class="table-responsive nopaging notificationlist sentmail">
                                                    <table class="table table-bordered display" id="notificationlist" cellspacing="0" width="100%">
                                                        <thead class="second-blackbackground">
                                                            <tr>
                                                                <th class="col-sm-2">S.No.</th>
                                                                <th class="col-sm-5">Organization</th>
                                                                <th class="col-sm-5">Contact</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="whitebackground scrollheight" id="divStakholderSendMailList" style="overflow-y: auto; max-height: 128px;"></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10">
                                        <div class="col-xs-12 col-sm-3 col-md-3 no-padding">
                                            <p class="wto-label-bold dark-blue">Subject<sup class="mandetory">*</sup></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-9 col-md-9">
                                            <textarea id="txtSubject" class="form-control  whitebackground AutoHeight" cols="30" rows="2" placeholder=""></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20">
                                        <div class="col-xs-12 col-sm-3 col-md-3 no-padding">
                                            <p class="wto-label-bold dark-blue">Message<sup class="mandetory">*</sup></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-9 col-md-9">
                                            <textarea id="txtMessage" class="form-control  whitebackground RfpEditor" cols="30" placeholder=""></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" id="divAttachments">
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20">
                                        <div class="col-xs-12 col-sm-3 col-md-3 no-padding">
                                            <p class="wto-label-bold dark-blue">Attachment</p>
                                        </div>
                                        <div class="col-xs-12 col-sm-9 col-md-9">
                                            <div class="form-group">
                                                <div class="input-group col-xs-12">
                                                    <input type="text" class="form-control whitebackground z-index-0" id="txtAttachmentCount" disabled placeholder="0 file(s) selected">
                                                    <span class="input-group-btn">
                                                        <button class="browse btn btn-primary z-index-0 bottom-offset-10" type="button" onclick="AddAttachment();"> Browse</button>
                                                    </span>
                                                </div>
                                            </div>
                                            <div id="txtAttachments" class="Attachmentdiv hidden" readonly></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" id="divAttachDetails" style="display:none;">
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20">
                                        <div class="col-xs-12 col-sm-3 col-md-3 no-padding">
                                            <p class="wto-label-bold dark-blue">Attachment</p>
                                        </div>
                                        <div class="col-xs-12 col-sm-9 col-md-9">
                                            <div id="divAttachFiles" class="Attachmentdiv hidden" readonly></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20 bottom-offset-20">
                                        <div class="col-xs-12 col-sm-6 col-md-6">
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6">
                                            <a data-dismiss="modal" class="btn btn-red btn-padding pull-right left-offset-10 bottom-offset-10">Close <span class="glyphicon glyphicon-remove"></a>
                                            <a class="btn btn-dark-green btn-padding pull-right bottom-offset-10" onclick="SendmailToStakeholders();" id="btnSendMail">Send</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="divAddAttachmentOverlay" class="attachment-modal overlay " style="top:-30px !important;">
                    <div id="divAddAttachment" class="attachment-modal body">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="creatediv1">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="panel panel-primary filterable no-margin-bottom">
                                                <div class="panel-heading">
                                                    <h3 class="panel-title">Add attachment</h3>
                                                </div>
                                                <table class="span12">
                                                    <table>
                                                        <tr class="filters"></tr>
                                                    </table>
                                                    <div class="bg tablescroll">
                                                        <table class="table no-margin-bottom margin-15" id="tblAttachments"></table>
                                                    </div>
                                                </table>
                                                <div class="modal-footer">
                                                    <div class="fileinput fileinput-new pull-left">
                                                        <span class="btn btn-light-blue btn-padding btn-file">
                                                            <span class="puttext">Add more</span>
                                                            <input type="file" id="AddAttachment_UploadDocumentId" class="fileholder uploadfile ActionUploadbtn" style="height: 34px !important;bottom: 37px !important;width: 137px !important;" onchange="AddMailAttachment(this);" multiple />
                                                        </span>
                                                        <br />
                                                        <span class="text-danger">doc and pdf file only</span>
                                                    </div>
                                                    <input type="button" class="btn btn-primary btn-padding bottom-offset-10" value="Ok" onclick="AddAttachmentOk();" />
                                                    <input type="submit" class="btn btn-danger btn-padding bottom-offset-10" value="Cancel" onclick="CloseAddAttachment();" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Sent mail Pop-Up End -->
<!-- mail Count Pop-Up Start -->
<div class="modal fade selecthrmodal" id="MailConversationPopUp" role="dialog">
    @{ Html.RenderAction("GetStakeholderConversation", "AddNotification", new { NotificationId = @Model.NotificationId, StakeholderId = 2 }); }
</div>
<!--mail Count Pop-Up End -->
<!-- Mail to enqirydesk Popup start -->
<div class="modal fade selecthrmodal" id="mailtoenquirydesk" role="dialog">
    <div class="modal-dialog modal-lg selecthrdialog">
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner">
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10">
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h4 class="selecthrheading2">Mail to enquiry desk</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="top-offset-10">
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-2">
                                            <p class="wto-label-normal"><b>Mail To<sup class="mandetory">*</sup></b><span class="pull-right  hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-10">
                                            <input type="text" id="EnquiryMailDeskId" class="form-control whitebackground" value="@Model.EnquiryEmailId">
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-2">
                                            <p class="wto-label-normal"><b>Subject<sup class="mandetory">*</sup></b><span class="pull-right  hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-10">
                                            <input type="text" id="txtMailToEnqSubject" class="form-control whitebackground" value="">
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-2">
                                            <p class="wto-label-normal"><b>Body<sup class="mandetory">*</sup></b><span class="pull-right  hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-10">
                                            <textarea class="form-control whitebackground RfpEditor" id="txtMailToEnqMailBody" cols="30" rows="6"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20 bottom-offset-20">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                        <a class="btn btn-red btn-padding pull-right left-offset-10 bottom-offset-10" data-dismiss="modal">Close</a>
                                        <a class="btn btn-light-blue btn-padding pull-right left-offset-10 bottom-offset-10" id="btnsendmailtoenquirydesk" onclick="SendMailToEnquiryDesk();">Send</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Mail to enqirydesk Popup End -->
<!-- Mail to Translator Popup start -->
<div id="mailtoTranslator" class="modal fade selecthrmodal" role="dialog">
    <div class="modal-dialog modal-lg selecthrdialog">
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner">
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10">
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h4 class="notificationnumber selecthrheading2 padding-bottom-10">Mail to translator</h4>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Notification Number <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.NotificationNumber</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-bold dark-blue">Title <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal dark-blue">@Model.Title</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="top-offset-10">
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                            <p class="wto-label-normal"><b>Translator<sup class="mandetory">*</sup></b> <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                            <div class="wto-label-normal">
                                                <div class="dropdown">
                                                    <select id="ddlTranslater" class="form-control textboxcontrol col-sm-5 col-md-4 " onchange="SetTranslatorName()"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                            <p class="wto-label-normal"><b>Subject<sup class="mandetory">*</sup></b> <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                            <input id="txtMailToTranslatorSubject" type="text" class="form-control whitebackground" value="">
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                            <p class="wto-label-normal"><b>Body<sup class="mandetory">*</sup></b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                            <textarea id="txtMailToTranslatorMailBody" class="form-control whitebackground RfpEditor" cols="30" rows="6"></textarea>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-3">
                                            <p class="wto-label-normal"><b>Attachment(s) <sup class="mandetory">*</sup></b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-9">
                                            <div id="UploadedReg">
                                                <input type="checkbox" />
                                                <label></label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20 bottom-offset-20">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                        <a class="btn btn-red btn-padding pull-right left-offset-10 bottom-offset-10" data-dismiss="modal">Close</a>
                                        <a class="btn btn-light-blue btn-padding pull-right left-offset-10 bottom-offset-10" onclick="SendMailToTranslator();">Send</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Mail to Translator Popup End -->
<!-- Upload Document Modal popup start -->
<div id="UploadDocumentModal" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h4 class="modal-title" id="lblModalHeading">Upload document</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="margin-top:-25px;">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label class="input-group-btn">
                            <span class="btn btn-primary browse">
                                Browse&hellip; <input type="file" style="display: none;" id="UploadDocumentId">
                            </span>
                        </label>
                        <input type="text" class="form-control" style="height:34px;" id="FileUploadedId" readonly>
                    </div>
                    <span class="note pull-right">You can upload only word and pdf files.</span>
                    <br />
                    <input type="text" id="DocumentDisplayNameId" class="form-control NoSpecialChar" placeholder="Attachment name" style="margin-top: 15px;">
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-primary" value="Ok" onclick="UploadDocumentOk();" />
                    <input type="submit" class="btn btn-danger" value="Cancel" data-dismiss="modal" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Upload Document Modal popup End-->
<!-- View Popup for response from stakeholders -->
<div class="modal fade selecthrmodal" id="ViewResponseModal" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg selecthrdialog">
        <div class="modal-content selecthrcontent">
            <div class="modal-header selecthrheader">
                <button type="button" class="close selecthrclose" data-dismiss="modal">
                    <span class="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div class="modal-body selecthrbody">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12">
                        <div class="col-xs-12 col-sm-12 col-md-12 selecthrbodyinner">
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-10">
                                <div class="notificationnumber padding-bottom-10">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12">
                                            <h4 class="selecthrheading2">Response from Stakeholder</h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="top-offset-10">
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Notification Number</b> <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal">@Model.NotificationNumber</p>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Title</b> <span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal">@Model.Title</p>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Response Date</b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal" id="lblResponseDate"></p>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Subject</b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal" id="lblResponseMailSubject"></p>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Message</b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal" id="lblResponseMailMessage"></p>
                                        </div>
                                    </div>
                                    <div class="row top-offset-10" id="divResponseAttachment">
                                        <div class="col-xs-12 col-sm-4 col-md-4">
                                            <p class="wto-label-normal"><b>Attachment</b><span class="pull-right hidden-xs">:</span></p>
                                        </div>
                                        <div class="col-xs-12 col-sm-8 col-md-8">
                                            <p class="wto-label-normal" id="lblResponseMailAttachments"></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 top-offset-20 bottom-offset-20">
                                <div class="row">
                                    <div class="col-xs-12 col-sm-12 col-md-12">
                                        <a class="btn btn-red btn-padding pull-right left-offset-10 bottom-offset-10" data-dismiss="modal">Close</a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- View Popup for response from stakeholders -->
<!-- Upload Notification Modal popup start -->
<div id="UploadNotificationPopUp" class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h4 class="modal-title" id="lblModalHeading">Upload document</h4>
                    <button type="button" class="close" aria-hidden="true" style="margin-top:-25px;" onclick="return CloseUploadNotificationPopUp();">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row top-offset-10">
                        <div class="col-xs-12 col-sm-4 col-md-4">
                            <p class="wto-label-bold">Document Type<sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                        </div>
                        <div class="col-xs-12 col-sm-4 col-md-8">
                            <p class="wto-label-normal">
                                @Html.DropDownListFor(m => Model.DocumentTypeList, new SelectList(Model.DocumentTypeList, "DocumentTypeId", "Type"), "Select document type", new { Id = "DocumentTypeId", Class = "form-control textboxcontrol" })
                            </p>
                        </div>
                    </div>
                    <div class="row top-offset-10">
                        <div class="col-xs-12 col-sm-4 col-md-4">
                            <p class="wto-label-bold">Document <sup class="mandetory">*</sup> <span class="pull-right hidden-xs">:</span></p>
                        </div>
                        <div class="col-xs-12 col-sm-4 col-md-8">
                            <p class="wto-label-normal">
                                <div class="input-group" style="margin-top: -15px;">
                                    <input type="text" class="form-control" style="height:34px;" id="NotificationFileName" readonly>
                                    <label class="input-group-btn">
                                        <span class="btn btn-primary browse">
                                            Browse&hellip; <input type="file" style="display: none;" id="NotificationFile" onclick="return ClearFile(this);">
                                        </span>
                                    </label>
                                </div>
                                <span class="note pull-right">Doc file only.</span>
                                <br />
                            </p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-primary" value="Ok" onclick="ReadDocumentFile();" />
                    <input type="submit" class="btn btn-danger" value="Cancel" onclick=" return CloseUploadNotificationPopUp();" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Upload Document Modal popup End-->
<script>
    $(document).ready(function () {
        var config = {
            // Referencing the new plugin
            toolbar: [
                { name: 'clipboard', items: ['Undo', 'Redo'] },
                { name: 'basicstyles', items: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat'] },
                { name: 'paragraph', items: ['NumberedList', 'BulletedList', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'] },
                { name: 'links', items: ['Link', 'Unlink'] },
                { name: 'insert', items: ['Table'] },
                { name: 'styles', items: ['Format'] },
            ],
        };
        config.extraPlugins = 'autogrow';
        config.autoGrow_minHeight = 200;
        config.autoGrow_maxHeight = 600;
        config.autoGrow_bottomSpace = 50;

        $.each($('.RfpEditor'), function () {
            CKEDITOR.replace(this.id, config);
        });
    });

    $("#txtStakeholderResponseDueBy").datepicker({
        changeMonth: true,
        changeYear: true,
        dateFormat: 'dd M yy',
        minDate: 0
    });
</script>